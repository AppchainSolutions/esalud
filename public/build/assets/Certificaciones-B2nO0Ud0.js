import{u as w}from"./store-kpSnY_mw.js";import{h as a,c as N,o as j,w as l,b as e,f as n,m,a as E,t as T,N as u,k as U,Q as z}from"./app-Bd0vU_sz.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P=z(),f=w(),q=U(()=>P.props.responseData),J={data:()=>({dialog:!1,dialogDelete:!1,headers:[{title:"CertificaciÃ³n",align:"start",sortable:!0,key:"certificacion"},{title:"Comentario",key:"comentario",sortable:!1},{title:"",key:"actions",sortable:!1}],lista:[{}],editedIndex:-1,editedItem:{idpersonal:f.userSelected,alergia:"",comentario:0},defaultItem:{idpersonal:f.userSelected,alergia:"",comentario:""}}),computed:{formTitle(){return this.editedIndex===-1?"Agregar registro":"Editar registro"}},watch:{dialog(t){t||this.close()},dialogDelete(t){t||this.closeDelete()}},methods:{initialize(){let t=f.userSelected;u.get("/alergia",{rut:t}),this.lista=q.value},editItem(t){this.editedIndex=this.lista.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem(t){this.editedIndex=this.lista.indexOf(t),this.editedItem=Object.assign({},t),this.dialogDelete=!0},deleteItemConfirm(){this.lista.splice(this.editedIndex,1),this.closeDelete()},close(){this.dialog=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},closeDelete(){this.dialogDelete=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},save(){if(this.editedIndex>-1){let t=[];Object.assign(this.lista[this.editedIndex],this.editedItem),t=JSON.parse(JSON.stringify(this.editedItem)),console.log("ðŸš€ ~ file: alergiaes.vue:137 ~ save ~ edited:",t),this.saveEdit(t)}else this.lista.push(this.editedItem),this.saveSave(this.lista);this.close()},saveEdit(t){u.put("/alergia/edit",{alergia:t})},saveSave(t){u.put("/alergia/store",{alergia:t})}}},A={class:"text-h5"};function G(t,i,K,Q,R,s){const b=a("v-toolbar-title"),x=a("v-divider"),r=a("v-spacer"),d=a("v-btn"),v=a("v-card-title"),_=a("v-text-field"),p=a("v-col"),D=a("v-row"),g=a("v-container"),V=a("v-card-text"),h=a("v-card-actions"),I=a("v-card"),k=a("v-dialog"),S=a("v-toolbar"),C=a("v-tooltip"),y=a("v-data-table");return j(),N(g,null,{default:l(()=>[e(y,{headers:t.headers,items:t.lista,"sort-by":[{key:"alergia",order:"asc"}]},{top:l(()=>[e(S,{flat:""},{default:l(()=>[e(b,null,{default:l(()=>i[4]||(i[4]=[n("Certificaciones")])),_:1}),e(x,{class:"mx-4",inset:"",vertical:""}),e(r),e(k,{modelValue:t.dialog,"onUpdate:modelValue":i[2]||(i[2]=o=>t.dialog=o)},{activator:l(({props:o})=>[e(d,{icon:"mdi-update",variant:"underlined",ligth:"",class:"ma-2",color:"#662D91",onClick:s.initialize},null,8,["onClick"]),e(d,m({icon:"mdi-account-multiple-plus",variant:"underlined",ligth:"",class:"ma-2",color:"#662D91"},o),null,16)]),default:l(()=>[e(I,null,{default:l(()=>[e(v,null,{default:l(()=>[E("span",A,T(s.formTitle),1)]),_:1}),e(V,null,{default:l(()=>[e(g,null,{default:l(()=>[e(D,null,{default:l(()=>[e(p,{cols:"12",sm:"6",md:"4"},{default:l(()=>[e(_,{modelValue:t.editedItem.certificacion,"onUpdate:modelValue":i[0]||(i[0]=o=>t.editedItem.certificacion=o),label:"CertificaciÃ³n"},null,8,["modelValue"])]),_:1}),e(p,{cols:"6",sm:"6",md:"4"},{default:l(()=>[e(_,{modelValue:t.editedItem.comentario,"onUpdate:modelValue":i[1]||(i[1]=o=>t.editedItem.comentario=o),label:"Comentario"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(h,null,{default:l(()=>[e(r),e(d,{color:"blue-darken-1",variant:"text",onClick:s.close},{default:l(()=>i[5]||(i[5]=[n(" Cancelar ")])),_:1},8,["onClick"]),e(d,{color:"blue-darken-1",variant:"text",onClick:s.save},{default:l(()=>i[6]||(i[6]=[n(" Guardar ")])),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(k,{modelValue:t.dialogDelete,"onUpdate:modelValue":i[3]||(i[3]=o=>t.dialogDelete=o),"max-width":"500px"},{default:l(()=>[e(I,null,{default:l(()=>[e(v,{class:"text-h5"},{default:l(()=>i[7]||(i[7]=[n("Seguro que quiere borrar el registro?")])),_:1}),e(h,null,{default:l(()=>[e(r),e(d,{color:"blue-darken-1",variant:"text",onClick:s.closeDelete},{default:l(()=>i[8]||(i[8]=[n("Cancel")])),_:1},8,["onClick"]),e(d,{color:"blue-darken-1",variant:"text",onClick:s.deleteItemConfirm},{default:l(()=>i[9]||(i[9]=[n("OK")])),_:1},8,["onClick"]),e(r)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),"item.actions":l(({item:o})=>[e(C,{text:"Editar",location:"top"},{activator:l(({props:c})=>[e(d,m(c,{density:"compact",class:"mr-2 ml-2",color:"#662D91",icon:"mdi-account-edit",onClick:O=>s.editItem(o)}),null,16,["onClick"])]),_:2},1024),e(C,{text:"Eliminar",location:"top"},{activator:l(({props:c})=>[e(d,m(c,{density:"compact",class:"mr-2 ml-2",color:"#662D91",icon:"mdi-delete",onClick:O=>s.deleteItem(o)}),null,16,["onClick"])]),_:2},1024)]),"no-data":l(()=>[e(d,{type:"valiant",onClick:s.initialize},{default:l(()=>i[10]||(i[10]=[n(" Iniciar ")])),_:1},8,["onClick"])]),_:1},8,["headers","items"])]),_:1})}const M=B(J,[["render",G],["__file","/home/omar/www/esalud/resources/js/Pages/SubPages/Certificaciones.vue"]]);export{M as default};
//# sourceMappingURL=Certificaciones-B2nO0Ud0.js.map
