{"version":3,"file":"DashPersEmpresa-B8cr-mMm.js","sources":["../../../resources/js/Pages/SubPages/DashPersEmpresa.vue"],"sourcesContent":["<script setup>\nimport { Doughnut } from \"vue-chartjs\";\nimport { onMounted, reactive, ref } from \"vue\";\nimport autocolors from \"chartjs-plugin-autocolors\";\nimport {\n    Chart as ChartJS,\n    Title,\n    Tooltip,\n    Legend,\n    ArcElement,\n    CategoryScale,\n    LinearScale,\n} from \"chart.js\";\n\nChartJS.register(\n    Title,\n    Tooltip,\n    Legend,\n    ArcElement,\n    CategoryScale,\n    LinearScale,\n    autocolors\n);\n\nconst chartData = reactive({\n    labels: [],\n    datasets: [\n        {\n            label: \"Cantidad\",\n            data: [],\n        },\n    ],\n});\n\nconst chartOptions = {\n    responsive: true,\n    maintainAspectRatio: true,\n    plugins: {\n        autocolors: {\n            mode: \"data\",\n        },\n    },\n};\n\nlet loaded = ref(false);\n\nconst getData = async () => {\n  try {\n    const { data } = await axios.get(\"/dashboard/personasPorEmpresa\");\n    const { descripcion, total } = data.reduce((acc, { descripcion, total }) => {\n      acc.descripcion.push(descripcion);\n      acc.total.push(total);\n      return acc;\n    }, { descripcion: [], total: [] });\n\n    chartData.labels = descripcion;\n    chartData.datasets[0].data = total;\n  } catch (error) {\n    console.log(\"Error al obtener los datos.\" + error);\n  }\n};\n\nonMounted(async () => {\n    try {\n        await getData();\n        loaded.value = true;\n    } catch (error) {\n        console.log(error);\n    }\n});\n</script>\n\n<template>\n    <div style=\"width: 80%\">\n        <Doughnut :options=\"chartOptions\" :data=\"chartData\" v-if=\"loaded\" />\n    </div>\n</template>\n"],"names":["ChartJS","Title","Tooltip","Legend","ArcElement","CategoryScale","LinearScale","autocolors","chartData","reactive","chartOptions","loaded","ref","getData","data","descripcion","total","acc","error","onMounted"],"mappings":"8UAcAA,EAAQ,SACJC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,CACJ,EAEA,MAAMC,EAAYC,EAAS,CACvB,OAAQ,CAAE,EACV,SAAU,CACN,CACI,MAAO,WACP,KAAM,CAAE,CACX,CACJ,CACL,CAAC,EAEKC,EAAe,CACjB,WAAY,GACZ,oBAAqB,GACrB,QAAS,CACL,WAAY,CACR,KAAM,MACT,CACJ,CACL,EAEA,IAAIC,EAASC,EAAI,EAAK,EAEtB,MAAMC,EAAU,SAAY,CAC1B,GAAI,CACF,KAAM,CAAE,KAAAC,CAAI,EAAK,MAAM,MAAM,IAAI,+BAA+B,EAC1D,CAAE,YAAAC,EAAa,MAAAC,CAAK,EAAKF,EAAK,OAAO,CAACG,EAAK,CAAE,YAAAF,EAAa,MAAAC,MAC9DC,EAAI,YAAY,KAAKF,CAAW,EAChCE,EAAI,MAAM,KAAKD,CAAK,EACbC,GACN,CAAE,YAAa,CAAA,EAAI,MAAO,CAAA,CAAI,CAAA,EAEjCT,EAAU,OAASO,EACnBP,EAAU,SAAS,CAAC,EAAE,KAAOQ,CAC9B,OAAQE,EAAO,CACd,QAAQ,IAAI,8BAAgCA,CAAK,CAClD,CACH,EAEA,OAAAC,EAAU,SAAY,CAClB,GAAI,CACA,MAAMN,EAAO,EACbF,EAAO,MAAQ,EAClB,OAAQO,EAAO,CACZ,QAAQ,IAAIA,CAAK,CACpB,CACL,CAAC"}