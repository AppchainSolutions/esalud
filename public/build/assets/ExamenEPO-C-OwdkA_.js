import{z as M,A as q,h as H,j as n,o as J,c as K,w as l,b as t,f as s,t as I,a as L,m as h}from"./app-DivcrGOD.js";import{u as W}from"./store-CQ5cYC65.js";import{f as X,c as p,a as Y,o as Z,b as ee,d as te,e as ae,g as oe}from"./helper-DUkDFggx.js";import{_ as le}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ne={class:"text-h5 ma-4"},ie={__name:"ExamenEPO",setup(de){const g=W(),e=M({endpoints:["bateria","estado_epo","semaforo","tipo_examen"],headers:[{title:"N° solicitud",align:"start",sortable:!0,key:"numero_solicitud"},{title:"Estatus",align:"start",sortable:!0,key:"estado_epo.descripcion"},{title:"Batería",align:"start",sortable:!0,key:"bateria.descripcion"},{title:"Fecha realización",align:"start",sortable:!0,key:"fecha_realizacion"},{title:"Fecha recepción",align:"start",sortable:!0,key:"fecha_recepcion"},{title:"Fecha solicitud",align:"start",sortable:!0,key:"fecha_solicitud"},{title:"Fecha vencimiento",align:"start",sortable:!0,key:"fecha_vencimiento"},{title:"Semáforo",align:"start",sortable:!0,key:"semaforo.descripcion"},{title:"Acciones",width:"10em",align:"center",key:"actions"}],editedItem:{paciente_id:null,codigo_verificacion:null,numero_solicitud:null,comentario:null,estado_epo:null,fecha_realizacion:null,fecha_recepcion:null,fecha_solicitud:null,fecha_vencimiento:null,bateria:null,resultado:"No apto",semaforo:null,tipo_examen:null},defaultItem:{paciente_id:null,codigo_verificacion:null,numero_solicitud:null,comentario:null,estado_epo:null,fecha_realizacion:null,fecha_recepcion:null,fecha_solicitud:null,fecha_vencimiento:null,bateria:null,resultado:"No apto",semaforo:null,tipo_examen:null},searchQuery:{paciente_id:null},dialog:!1,tableItems:[],editedIndex:-1,list:[],loadingSearch:!1,valid:null,formTitle:"Ocupacionales y Preocupacionales",formCrear:"Nuevo exámen Ocupacional / Preocupacional",formEdit:"Editar datos Ocupacional / Preocupacional",urlShow:"examen/epo/show",urlUpdate:"examen/epo/update",urlDelete:"examen/epo/delete",urlStore:"examen/epo"});q(async()=>{e.list=await X(e.endpoints)});const x=H(()=>e.editedIndex===-1?e.formCrear:e.formEdit);function y(){p(e)}const _=async()=>{e.searchQuery.paciente_id=g.getSelected.id,await Y(e)};function k(){Z(e)}function w(){return e.editedIndex>-1?E():C()}const C=async()=>{await ee(e),p(e)};function A(i){te(e,i)}const E=async()=>{await ae(e),p(e)},U=async i=>{await oe(e,i)};return(i,o)=>{const S=n("v-toolbar-title"),F=n("v-divider"),v=n("v-spacer"),d=n("v-btn"),N=n("v-card-title"),r=n("v-text-field"),c=n("v-select"),m=n("v-sheet"),f=n("v-col"),z=n("v-switch"),P=n("v-row"),T=n("v-card-text"),B=n("v-card-actions"),b=n("v-container"),O=n("v-form"),D=n("v-card"),$=n("v-dialog"),j=n("v-toolbar"),Q=n("v-icon"),V=n("v-tooltip"),R=n("v-data-table");return J(),K(b,{fluid:""},{default:l(()=>[t(R,{headers:e.headers,items:e.tableItems},{top:l(()=>[t(j,{flat:""},{default:l(()=>[t(S,null,{default:l(()=>[s(I(e.formTitle),1)]),_:1}),t(F,{class:"mx-4",inset:"",vertical:""}),t(v),t($,{modelValue:e.dialog,"onUpdate:modelValue":o[12]||(o[12]=a=>e.dialog=a)},{activator:l(({props:a})=>[t(d,{icon:"mdi-update",variant:"tonal",class:"ma-2",color:"#009AA4",loading:e.loadingSearch,onClick:_},null,8,["loading"]),t(d,{icon:"mdi-account-multiple-plus",variant:"tonal",class:"ma-2",color:"#009AA4",onClick:k})]),default:l(()=>[t(D,null,{default:l(()=>[t(O,null,{default:l(()=>[t(N,null,{default:l(()=>[L("span",ne,I(x.value),1)]),_:1}),t(T,null,{default:l(()=>[t(P,null,{default:l(()=>[t(f,null,{default:l(()=>[t(m,{elevation:"12",class:"ma-4 pa-4",rounded:"",border:""},{default:l(()=>[t(r,{modelValue:e.editedItem.numero_solicitud,"onUpdate:modelValue":o[0]||(o[0]=a=>e.editedItem.numero_solicitud=a),label:"N° solicitud",type:"number",variant:"underlined",clearable:""},null,8,["modelValue"]),t(c,{modelValue:e.editedItem.estado_epo,"onUpdate:modelValue":o[1]||(o[1]=a=>e.editedItem.estado_epo=a),items:e.list.estado_epo,"item-title":"descripcion","item-value":"id",label:"Estatus",variant:"underlined",clearable:""},null,8,["modelValue","items"]),t(c,{modelValue:e.editedItem.bateria,"onUpdate:modelValue":o[2]||(o[2]=a=>e.editedItem.bateria=a),items:e.list.bateria,"item-title":"descripcion","item-value":"id",label:"Batería",variant:"underlined",chips:""},null,8,["modelValue","items"]),t(c,{modelValue:e.editedItem.tipo_examen,"onUpdate:modelValue":o[3]||(o[3]=a=>e.editedItem.tipo_examen=a),items:e.list.tipo_examen,"item-title":"descripcion","item-value":"id",label:"Tipo de exámen",variant:"underlined"},null,8,["modelValue","items"]),t(r,{modelValue:e.editedItem.fecha_realizacion,"onUpdate:modelValue":o[4]||(o[4]=a=>e.editedItem.fecha_realizacion=a),label:"Fecha de realización",type:"date",variant:"underlined"},null,8,["modelValue"]),t(r,{modelValue:e.editedItem.fecha_solicitud,"onUpdate:modelValue":o[5]||(o[5]=a=>e.editedItem.fecha_solicitud=a),label:"Fecha solicitud",type:"date",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1}),t(f,null,{default:l(()=>[t(m,{elevation:"12",class:"ma-4 pa-4",rounded:"",border:""},{default:l(()=>[t(r,{modelValue:e.editedItem.codigo_verificacion,"onUpdate:modelValue":o[6]||(o[6]=a=>e.editedItem.codigo_verificacion=a),label:"Cod. verif.",type:"number",variant:"underlined",clearable:""},null,8,["modelValue"]),t(c,{modelValue:e.editedItem.semaforo,"onUpdate:modelValue":o[7]||(o[7]=a=>e.editedItem.semaforo=a),items:e.list.semaforo,"item-title":"descripcion","item-value":"id",label:"Semáforo",variant:"underlined"},null,8,["modelValue","items"]),t(r,{modelValue:e.editedItem.fecha_recepcion,"onUpdate:modelValue":o[8]||(o[8]=a=>e.editedItem.fecha_recepcion=a),label:"Fecha recepción",type:"date",variant:"underlined"},null,8,["modelValue"]),t(r,{modelValue:e.editedItem.fecha_vencimiento,"onUpdate:modelValue":o[9]||(o[9]=a=>e.editedItem.fecha_vencimiento=a),label:"Fecha vencimiento",type:"date",variant:"underlined"},null,8,["modelValue"]),t(z,{modelValue:e.editedItem.resultado,"onUpdate:modelValue":o[10]||(o[10]=a=>e.editedItem.resultado=a),"hide-details":"","true-value":"Apto","false-value":"No apto",class:"ml-4 mt-4",variant:"underlined",color:"green-darken-3",inset:"",clearable:"",label:`Resultado: ${e.editedItem.resultado.toString()}`},null,8,["modelValue","label"]),t(r,{modelValue:e.editedItem.comentario,"onUpdate:modelValue":o[11]||(o[11]=a=>e.editedItem.comentario=a),label:"Comentario",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(b,{fluid:""},{default:l(()=>[t(m,{class:"pa-2",elevation:"2"},{default:l(()=>[t(B,null,{default:l(()=>[t(v),t(d,{color:"#009AA4",variant:"tonal",onClick:y},{default:l(()=>[s(" Cancelar ")]),_:1}),t(d,{color:"#009AA4",variant:"tonal",onClick:w},{default:l(()=>[s(" Guardar ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),"item.state.editedItem.semaforo":l(({item:a})=>[t(Q,{icon:i.mdi-i.eye-i.off-i.outline},null,8,["icon"])]),"item.actions":l(({item:a})=>[t(V,{text:"Editar",location:"top"},{activator:l(({props:u})=>[t(d,h(u,{density:"compact",class:"mr-2 ml-2",color:"#009AA4",variant:"tonal",icon:"mdi-account-edit",onClick:G=>A(a)}),null,16,["onClick"])]),_:2},1024),t(V,{text:"Eliminar",location:"top"},{activator:l(({props:u})=>[t(d,h(u,{density:"compact",class:"mr-2 ml-2",color:"#009AA4",variant:"tonal",icon:"mdi-delete",onClick:G=>U(a)}),null,16,["onClick"])]),_:2},1024)]),"no-data":l(()=>[t(d,{color:"#009AA4",variant:"tonal",onClick:_},{default:l(()=>[s(" Iniciar ")]),_:1})]),_:1},8,["headers","items"])]),_:1})}}},ue=le(ie,[["__file","/home/blueshadows/www/vulco/resources/js/Pages/Examenes/ExamenEPO.vue"]]);export{ue as default};
//# sourceMappingURL=ExamenEPO-C-OwdkA_.js.map
