{"version":3,"file":"DashPersPlanta-DUsqRn8Q.js","sources":["../../../resources/js/Pages/SubPages/DashPersPlanta.vue"],"sourcesContent":["<script setup>\nimport { Pie } from \"vue-chartjs\";\nimport { onMounted, reactive, ref } from \"vue\";\nimport autocolors from 'chartjs-plugin-autocolors';\nimport {\n    Chart as ChartJS,\n    Title,\n    Tooltip,\n    Legend,\n    ArcElement,\n    CategoryScale\n} from \"chart.js\";\n\nChartJS.register(\n    Title,\n    Tooltip,\n    Legend,\n    ArcElement,\n    CategoryScale,\n    autocolors\n);\n\nconst chartData = reactive({\n    labels: [],\n    datasets: [\n        {\n            data: []\n          //  backgroundColor: [],\n        }\n    ]\n});\n\nconst chartOptions = {\n    responsive: true,\n    maintainAspectRatio: true,\n    plugins: {\n      autocolors: {\n        mode: 'data'\n      }\n    }\n};\n\nlet loaded = ref(false);\n\nconst getData = async () => {\n    const response = await axios.get(\"/dashboard/personasPorPlanta\");\n    const { data } = response;\n    const descripcion = data.map((item) => item.descripcion);\n    const totals = data.map((item) => item.total);\n    chartData.labels = descripcion;\n    chartData.datasets[0].data = totals;\n};\n\nonMounted(async () => {\n    try {\n        await getData();\n        loaded.value = true;\n    } catch (error) {\n        console.log(error);\n    }\n});\n</script>\n\n<template>\n <div style=\"width: 80%;\">\n    <Pie :options=\"chartOptions\" :data=\"chartData\" v-if=\"loaded\" />\n</div>\n</template>\n"],"names":["ChartJS"],"mappings":";;;;;;;;;;AAaAA,UAAQ;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACJ;AAEA,UAAM,YAAY,SAAS;AAAA,MACvB,QAAQ,CAAE;AAAA,MACV,UAAU;AAAA,QACN;AAAA,UACI,MAAM,CAAA;AAAA;AAAA,QAElB;AAAA,MACA;AAAA,IACA,CAAC;AAED,UAAM,eAAe;AAAA,MACjB,YAAY;AAAA,MACZ,qBAAqB;AAAA,MACrB,SAAS;AAAA,QACP,YAAY;AAAA,UACV,MAAM;AAAA,QACd;AAAA,MACA;AAAA,IACA;AAEA,QAAI,SAAS,IAAI,KAAK;AAEtB,UAAM,UAAU,YAAY;AACxB,YAAM,WAAW,MAAM,MAAM,IAAI,8BAA8B;AAC/D,YAAM,EAAE,KAAI,IAAK;AACjB,YAAM,cAAc,KAAK,IAAI,CAAC,SAAS,KAAK,WAAW;AACvD,YAAM,SAAS,KAAK,IAAI,CAAC,SAAS,KAAK,KAAK;AAC5C,gBAAU,SAAS;AACnB,gBAAU,SAAS,CAAC,EAAE,OAAO;AAAA,IACjC;AAEA,cAAU,YAAY;AAClB,UAAI;AACA,cAAM,QAAS;AACf,eAAO,QAAQ;AAAA,MAClB,SAAQ,OAAO;AACZ,gBAAQ,IAAI,KAAK;AAAA,MACzB;AAAA,IACA,CAAC;;;;;;;;;;;;;;;;;;;;;;"}