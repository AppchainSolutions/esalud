import{z as O,A as q,h as J,j as n,o as K,c as W,w as i,b as a,f as u,t as p,u as U,a as X,m as y,n as Y}from"./app-DivcrGOD.js";import{A as Z}from"./AppLayout-CiV_-isY.js";import{u as h}from"./store-CQ5cYC65.js";import{f as ee,c as b,a as le,o as te,b as ae,d as ie,e as ne,g as oe}from"./helper-DUkDFggx.js";import{_ as de}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./logo-DIp7Rf8v.js";const re={class:"text-h5"},me=Object.assign({layout:Z},{__name:"AtencionDiaria",setup(ue){const _=h(),C=_.getSelected.nombre,w=_.getSelected.apellidos,e=O({endpoints:["accidente","accidente_condicion","calificacion","derivacion","lugar_atencion","medio_derivacion","error_critico","estado_mental","fuente_incidente","responsable","sistema_afectado","tipo_atencion","tipo_licencia","religion","unidad","turno"],headers:[{title:"#",align:"center",sortable:!0,key:"paciente_id"},{title:"Motivo de consulta",align:"center",sortable:!0,key:"motivo_consulta"},{title:"Accidente",align:"center",sortable:!0,key:"accidente.descripcion"},{title:"Fecha atencion",key:"fecha_atencion",sortable:!0},{title:"Acciones",align:"center",key:"actions"}],editedItem:{paciente_id:null,accidente_condicion:null,accidente:null,acompanado:null,alerta_she:null,at_realizada_por:null,calificacion:null,comentario:null,cuenta_acr:null,declaracion_completa:null,derivacion_inmediata:null,derivacion:null,descripcion_breve:null,dias_descanso:null,error_critico:null,estado_mental:null,fecha_atencion:null,fuente_incidente:null,hora_inicio:null,hora_termino:null,lugar_atencion:null,medicamentos:null,medio_derivacion:null,motivo_consulta:null,nombre_supervisor:null,puede_reintegrarse:null,RECA:null,responsable:null,sistema_afectado:null,tipo_atencion:null,tipo_licencia:null,turno:null},defaultItem:{paciente_id:null,accidente_condicion:null,accidente:null,acompanado:!1,alerta_she:!1,at_realizada_por:null,calificacion:null,comentario:null,cuenta_acr:!1,declaracion_completa:!1,derivacion_inmediata:!1,derivacion:null,descripcion_breve:null,dias_descanso:null,error_critico:null,estado_mental:null,fecha_atencion:null,fuente_incidente:null,hora_inicio:null,hora_termino:null,lugar_atencion:null,medicamentos:null,medio_derivacion:null,motivo_consulta:null,nombre_supervisor:null,puede_reintegrarse:!1,responsable:null,RECA:null,sistema_afectado:null,tipo_atencion:null,tipo_licencia:null,turno:null},searchQuery:{paciente_id:null},dialog:!1,tableItems:[],editedIndex:-1,list:[],loading:!1,valid:null,formTitle:"Atención diaria de Pacientes",formCrear:"Nueva Atención",formEdit:"Editar datos del atención diaria",urlShow:"/atencion_diaria/show",urlUpdate:"/atencion_diaria/update",urlDelete:"/atencion_diaria/delete",urlStore:"/atencion_diaria"});q(async()=>{e.list=await ee(e.endpoints)});const x=J(()=>e.editedIndex===-1?e.formCrear:e.formEdit);function k(){window.history.back()}function E(){b(e)}const V=async()=>{e.searchQuery.paciente_id=_.getSelected.id,await le(e)};function S(){te(e)}function D(){return e.editedIndex>-1?F():T()}const T=async()=>{await ae(e),b(e)};function z(s){ie(e,s)}const F=async()=>{await ne(e),b(e)},M=async s=>{await oe(e,s)};return(s,t)=>{const f=n("v-toolbar-title"),r=n("v-btn"),I=n("v-spacer"),P=n("v-card-title"),d=n("v-text-field"),o=n("v-select"),c=n("v-col"),m=n("v-switch"),N=n("v-row"),g=n("v-container"),R=n("v-card-text"),j=n("v-card-actions"),B=n("v-card"),H=n("v-dialog"),L=n("v-toolbar"),A=n("v-tooltip"),Q=n("v-data-table"),$=n("v-sheet");return K(),W(g,null,{default:i(()=>[a($,{color:"white",elevation:6,class:Y("rounded-lg ma-2 pa-2")},{default:i(()=>[a(f,{class:"ma-4 pa-4"},{default:i(()=>[u(" Información del Paciente: "+p(U(w))+", "+p(U(C)),1)]),_:1}),a(Q,{headers:e.headers,items:e.tableItems},{top:i(()=>[a(L,{flat:""},{default:i(()=>[a(r,{variant:"tonal",color:"#009AA4",onClick:k},{default:i(()=>[u(" Volver ")]),_:1}),a(f,null,{default:i(()=>[u(p(e.formTitle),1)]),_:1}),a(I),a(r,{icon:"mdi-update",variant:"tonal",class:"ma-2",color:"#009AA4",onClick:V}),a(r,{icon:"mdi-account-multiple-plus",variant:"tonal",class:"ma-2",color:"#009AA4",onClick:S}),a(H,{modelValue:e.dialog,"onUpdate:modelValue":t[29]||(t[29]=l=>e.dialog=l)},{default:i(()=>[a(B,null,{default:i(()=>[a(P,null,{default:i(()=>[X("span",re,p(x.value),1)]),_:1}),a(R,null,{default:i(()=>[a(g,null,{default:i(()=>[a(N,null,{default:i(()=>[a(c,null,{default:i(()=>[a(d,{modelValue:e.editedItem.fecha_atencion,"onUpdate:modelValue":t[0]||(t[0]=l=>e.editedItem.fecha_atencion=l),label:"Fecha de atención",clearable:"",type:"date",variant:"underlined"},null,8,["modelValue"]),a(o,{modelValue:e.editedItem.turno,"onUpdate:modelValue":t[1]||(t[1]=l=>e.editedItem.turno=l),items:e.list.turno,"item-title":"descripcion","item-value":"id",clearable:"",label:"Turno",variant:"underlined"},null,8,["modelValue","items"]),a(o,{modelValue:e.editedItem.sistema_afectado,"onUpdate:modelValue":t[2]||(t[2]=l=>e.editedItem.sistema_afectado=l),items:e.list.sistema_afectado,"item-title":"descripcion","item-value":"id",clearable:"",label:"Sistema afectado",variant:"underlined"},null,8,["modelValue","items"]),a(o,{modelValue:e.editedItem.derivacion,"onUpdate:modelValue":t[3]||(t[3]=l=>e.editedItem.derivacion=l),items:e.list.derivacion,"item-title":"descripcion","item-value":"id",clearable:"",label:"Derivación",variant:"underlined"},null,8,["modelValue","items"]),a(o,{modelValue:e.editedItem.medio_derivacion,"onUpdate:modelValue":t[4]||(t[4]=l=>e.editedItem.medio_derivacion=l),items:e.list.medio_derivacion,"item-title":"descripcion","item-value":"id",clearable:"",label:"Medio de derivación",variant:"underlined"},null,8,["modelValue","items"]),a(o,{modelValue:e.editedItem.fuente_incidente,"onUpdate:modelValue":t[5]||(t[5]=l=>e.editedItem.fuente_incidente=l),items:e.list.fuente_incidente,"item-title":"descripcion","item-value":"id",clearable:"",label:"Fuente de incidente",variant:"underlined"},null,8,["modelValue","items"])]),_:1}),a(c,null,{default:i(()=>[a(d,{modelValue:e.editedItem.motivo_consulta,"onUpdate:modelValue":t[6]||(t[6]=l=>e.editedItem.motivo_consulta=l),label:"Motivo de consulta",clearable:"",type:"text",variant:"underlined"},null,8,["modelValue"]),a(m,{modelValue:e.editedItem.acompanado,"onUpdate:modelValue":t[7]||(t[7]=l=>e.editedItem.acompanado=l),"hide-details":"",class:"ml-4",variant:"underlined",color:"green-darken-3",inset:"",label:"Acompañado"},null,8,["modelValue"]),a(o,{modelValue:e.editedItem.accidente,"onUpdate:modelValue":t[8]||(t[8]=l=>e.editedItem.accidente=l),items:e.list.accidente,"item-title":"descripcion","item-value":"id",clearable:"",label:"Accidente",variant:"underlined"},null,8,["modelValue","items"]),a(d,{modelValue:e.editedItem.medicamentos,"onUpdate:modelValue":t[9]||(t[9]=l=>e.editedItem.medicamentos=l),label:"Medicamento suministrados",clearable:"",type:"text",variant:"underlined"},null,8,["modelValue"]),a(o,{modelValue:e.editedItem.accidente_condicion,"onUpdate:modelValue":t[10]||(t[10]=l=>e.editedItem.accidente_condicion=l),items:e.list.accidente_condicion,"item-title":"descripcion","item-value":"id",label:"Accidente ocurre por una acción o condición insegura",clearable:"",variant:"underlined"},null,8,["modelValue","items"]),a(o,{modelValue:e.editedItem.responsable,"onUpdate:modelValue":t[11]||(t[11]=l=>e.editedItem.responsable=l),items:e.list.responsable,"item-title":"descripcion","item-value":"id",clearable:"",label:"Responsable",variant:"underlined"},null,8,["modelValue","items"])]),_:1}),a(c,null,{default:i(()=>[a(d,{modelValue:e.editedItem.hora_inicio,"onUpdate:modelValue":t[12]||(t[12]=l=>e.editedItem.hora_inicio=l),label:"Hora de inicio",clearable:"",type:"time",variant:"underlined"},null,8,["modelValue"]),a(d,{modelValue:e.editedItem.nombre_supervisor,"onUpdate:modelValue":t[13]||(t[13]=l=>e.editedItem.nombre_supervisor=l),label:"Nombre supervisor",clearable:"",type:"text",variant:"underlined"},null,8,["modelValue"]),a(d,{modelValue:e.editedItem.dias_descanso,"onUpdate:modelValue":t[14]||(t[14]=l=>e.editedItem.dias_descanso=l),label:"Días de descanso",clearable:"",type:"number",variant:"underlined"},null,8,["modelValue"]),a(d,{modelValue:e.editedItem.at_realizada_por,"onUpdate:modelValue":t[15]||(t[15]=l=>e.editedItem.at_realizada_por=l),label:"Atención realizada por",clearable:"",type:"text",variant:"underlined"},null,8,["modelValue"]),a(o,{modelValue:e.editedItem.calificacion,"onUpdate:modelValue":t[16]||(t[16]=l=>e.editedItem.calificacion=l),items:e.list.calificacion,"item-title":"descripcion","item-value":"id",clearable:"",label:"Calificación",variant:"underlined"},null,8,["modelValue","items"]),a(o,{modelValue:e.editedItem.lugar_atencion,"onUpdate:modelValue":t[17]||(t[17]=l=>e.editedItem.lugar_atencion=l),items:e.list.lugar_atencion,"item-title":"descripcion","item-value":"id",clearable:"",label:"Lugar atención",variant:"underlined"},null,8,["modelValue","items"])]),_:1}),a(c,null,{default:i(()=>[a(d,{modelValue:e.editedItem.hora_termino,"onUpdate:modelValue":t[18]||(t[18]=l=>e.editedItem.hora_termino=l),label:"Hora de termino",clearable:"",type:"time",variant:"underlined"},null,8,["modelValue"]),a(o,{modelValue:e.editedItem.tipo_atencion,"onUpdate:modelValue":t[19]||(t[19]=l=>e.editedItem.tipo_atencion=l),items:e.list.tipo_atencion,"item-title":"descripcion","item-value":"id",clearable:"",label:"Tipo de atención",variant:"underlined"},null,8,["modelValue","items"]),a(o,{modelValue:e.editedItem.tipo_licencia,"onUpdate:modelValue":t[20]||(t[20]=l=>e.editedItem.tipo_licencia=l),items:e.list.tipo_licencia,"item-title":"descripcion","item-value":"id",clearable:"",label:"Tipo de Licencia",variant:"underlined"},null,8,["modelValue","items"]),a(d,{modelValue:e.editedItem.descripcion_breve,"onUpdate:modelValue":t[21]||(t[21]=l=>e.editedItem.descripcion_breve=l),label:"Descripción breve",type:"text",clearable:"",variant:"underlined"},null,8,["modelValue"]),a(o,{modelValue:e.editedItem.estado_mental,"onUpdate:modelValue":t[22]||(t[22]=l=>e.editedItem.estado_mental=l),items:e.list.estado_mental,"item-title":"descripcion","item-value":"id",clearable:"",label:"Estado Mental",variant:"underlined"},null,8,["modelValue","items"]),a(o,{modelValue:e.editedItem.error_critico,"onUpdate:modelValue":t[23]||(t[23]=l=>e.editedItem.error_critico=l),items:e.list.error_critico,"item-title":"descripcion","item-value":"id",clearable:"",label:"Error crítico",variant:"underlined"},null,8,["modelValue","items"])]),_:1}),a(c,null,{default:i(()=>[a(m,{modelValue:e.editedItem.alerta_she,"onUpdate:modelValue":t[24]||(t[24]=l=>e.editedItem.alerta_she=l),class:"mt-2 mb-4",label:"Alerta SHE",color:"success","hide-details":"",clearable:"",inset:"",variant:"underlined"},null,8,["modelValue"]),a(m,{modelValue:e.editedItem.cuenta_acr,"onUpdate:modelValue":t[25]||(t[25]=l=>e.editedItem.cuenta_acr=l),class:"mt-2 mb-4",label:"Cuenta ACR",clearable:"",color:"success","hide-details":"",inset:"",variant:"underlined"},null,8,["modelValue"]),a(m,{modelValue:e.editedItem.derivacion_inmediata,"onUpdate:modelValue":t[26]||(t[26]=l=>e.editedItem.derivacion_inmediata=l),class:"mt-2 mb-4",label:"Derivación inmediata",color:"success","hide-details":"",clearable:"",inset:"",variant:"underlined"},null,8,["modelValue"]),a(m,{modelValue:e.editedItem.declaracion_completa,"onUpdate:modelValue":t[27]||(t[27]=l=>e.editedItem.declaracion_completa=l),class:"mt-2 mb-4",label:"Declaración completa",clearable:"",color:"success","hide-details":"",inset:"",variant:"underlined"},null,8,["modelValue"]),a(m,{modelValue:e.editedItem.puede_reintegrarse,"onUpdate:modelValue":t[28]||(t[28]=l=>e.editedItem.puede_reintegrarse=l),class:"mt-2 mb-4",label:"Puede reintegrarse",clearable:"",color:"success","hide-details":"",inset:"",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),a(j,null,{default:i(()=>[a(I),a(r,{color:"#009AA4",variant:"tonal",onClick:E},{default:i(()=>[u(" Cancelar ")]),_:1}),a(r,{color:"#009AA4",variant:"tonal",onClick:D},{default:i(()=>[u(" Guardar ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),"item.actions":i(({item:l})=>[a(A,{text:"Editar ",location:"top"},{activator:i(({props:v})=>[a(r,y(v,{density:"compact",class:"mr-2 ml-2",color:"#009AA4",variant:"tonal",icon:"mdi-account-edit",onClick:G=>z(l)}),null,16,["onClick"])]),_:2},1024),a(A,{text:"Eliminar",location:"top"},{activator:i(({props:v})=>[a(r,y(v,{density:"compact",class:"mr-2 ml-2",color:"#009AA4",variant:"tonal",icon:"mdi-delete",onClick:G=>M(l)}),null,16,["onClick"])]),_:2},1024)]),"no-data":i(()=>[a(r,{variant:"tonal",onClick:V},{default:i(()=>[u(" Iniciar ")]),_:1})]),_:1},8,["headers","items"])]),_:1})]),_:1})}}}),Ve=de(me,[["__file","/home/blueshadows/www/vulco/resources/js/Pages/SubPages/AtencionDiaria.vue"]]);export{Ve as default};
//# sourceMappingURL=AtencionDiaria-1fc5xEJd.js.map
