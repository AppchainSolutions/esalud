{"version":3,"file":"Certificaciones-B9KhOoJw.js","sources":["../../../resources/js/Pages/SubPages/Certificaciones.vue"],"sourcesContent":["<script>\nimport { useDataStore } from \"@/store.js\";\nimport { router, usePage } from \"@inertiajs/vue3\";\nimport { computed } from \"vue\";\n\nconst page = usePage();\n\nconst store = useDataStore();\nconst listaResponse = computed(() => page.props.responseData);\n\nexport default {\n    data: () => ({\n        dialog: false,\n        dialogDelete: false,\n        headers: [\n            {\n                title: \"CertificaciÃ³n\",\n                align: \"start\",\n                sortable: true,\n                key: \"certificacion\",\n            },\n            { title: \"Comentario\", key: \"comentario\", sortable: false },\n            { title: \"\", key: \"actions\", sortable: false },\n        ],\n\n        lista: [{}],\n        editedIndex: -1,\n        editedItem: {\n            idpersonal: store.userSelected,\n            alergia: \"\",\n            comentario: 0,\n        },\n        defaultItem: {\n            idpersonal: store.userSelected,\n            alergia: \"\",\n            comentario: \"\",\n        },\n    }),\n\n    /**\n     * Computed property that determines the title of a form based on the value of the 'editedIndex' variable.\n     *\n     * @computed formTitle\n     * @returns {string} The title of the form, either \"Agregar registro\" or \"Editar registro\".\n     */\n    computed: {\n        formTitle() {\n            return this.editedIndex === -1\n                ? \"Agregar registro\"\n                : \"Editar registro\";\n        },\n    },\n\n    /**\n     * Watch properties for monitoring changes in the 'dialog' and 'dialogDelete' variables.\n     *\n     * @watch\n     * @property {boolean} dialog - Represents the state of a dialog box.\n     * @property {boolean} dialogDelete - Represents the state of a delete dialog box.\n     * @fires close - Called when the 'dialog' variable becomes false.\n     * @fires closeDelete - Called when the 'dialogDelete' variable becomes false.\n     */\n    watch: {\n        dialog(val) {\n            val || this.close();\n        },\n        dialogDelete(val) {\n            val || this.closeDelete();\n        },\n    },\n\n    methods: {\n        /**\n         * Initializes the component by making an HTTP GET request to retrieve data related to a specific user's illnesses.\n         *\n         * @example\n         * initialize()\n         *\n         * @returns {void} None\n         */\n        initialize() {\n            let user = store.userSelected;\n\n            router.get(\"/alergia\", {\n                rut: user,\n            });\n            this.lista = listaResponse.value;\n        },\n\n        /**\n         * Edit an item in the component's list.\n         *\n         * @param {Object} item - The selected item to be edited.\n         * @returns {void}\n         */\n        editItem(item) {\n            this.editedIndex = this.lista.indexOf(item);\n            this.editedItem = Object.assign({}, item);\n            this.dialog = true;\n        },\n\n        /**\n         * Deletes an item from the list.\n         *\n         * @param {Object} item - The selected item to be deleted.\n         * @returns {void}\n         */\n        deleteItem(item) {\n            this.editedIndex = this.lista.indexOf(item);\n            this.editedItem = Object.assign({}, item);\n            this.dialogDelete = true;\n        },\n\n        deleteItemConfirm() {\n            this.lista.splice(this.editedIndex, 1);\n            this.closeDelete();\n        },\n\n        close() {\n            this.dialog = false;\n            this.$nextTick(() => {\n                this.editedItem = Object.assign({}, this.defaultItem);\n                this.editedIndex = -1;\n            });\n        },\n\n        closeDelete() {\n            this.dialogDelete = false;\n            this.$nextTick(() => {\n                this.editedItem = Object.assign({}, this.defaultItem);\n                this.editedIndex = -1;\n            });\n        },\n\n        save() {\n            if (this.editedIndex > -1) {\n                let edited = [];\n                Object.assign(this.lista[this.editedIndex], this.editedItem);\n                edited = JSON.parse(JSON.stringify(this.editedItem));\n                console.log(\n                    \"ðŸš€ ~ file: alergiaes.vue:137 ~ save ~ edited:\",\n                    edited\n                );\n                this.saveEdit(edited);\n            } else {\n                this.lista.push(this.editedItem);\n                this.saveSave(this.lista);\n            }\n            this.close();\n        },\n\n        saveEdit(edited) {\n            router.put(\"/alergia/edit\", {\n                alergia: edited,\n            });\n        },\n        saveSave(added) {\n            router.put(\"/alergia/store\", {\n                alergia: added,\n            });\n        },\n    },\n};\n</script>\n\n<template>\n    <v-container>\n        <v-data-table\n            :headers=\"headers\"\n            :items=\"lista\"\n            :sort-by=\"[{ key: 'alergia', order: 'asc' }]\"\n        >\n            <template v-slot:top>\n                <v-toolbar flat>\n                    <v-toolbar-title>Certificaciones</v-toolbar-title>\n                    <v-divider class=\"mx-4\" inset vertical></v-divider>\n                    <v-spacer></v-spacer>\n                    <v-dialog v-model=\"dialog\">\n                        <template v-slot:activator=\"{ props }\">\n                            <v-btn\n                                icon=\"mdi-update\"\n                                variant=\"underlined\"\n                                ligth\n                                class=\"ma-2\"\n                                color=\"#662D91\"\n                                @click=\"initialize\"\n                            >\n                            </v-btn>\n                            <v-btn\n                                icon=\"mdi-account-multiple-plus\"\n                                variant=\"underlined\"\n                                ligth\n                                class=\"ma-2\"\n                                color=\"#662D91\"\n                                v-bind=\"props\"\n                            >\n                            </v-btn>\n                        </template>\n\n                        <v-card>\n                            <v-card-title>\n                                <span class=\"text-h5\">{{ formTitle }} </span>\n                            </v-card-title>\n\n                            <v-card-text>\n                                <v-container>\n                                    <v-row>\n                                        <v-col cols=\"12\" sm=\"6\" md=\"4\">\n                                            <v-text-field\n                                                v-model=\"\n                                                    editedItem.certificacion\n                                                \"\n                                                label=\"CertificaciÃ³n\"\n                                            ></v-text-field>\n                                        </v-col>\n                                        <v-col cols=\"6\" sm=\"6\" md=\"4\">\n                                            <v-text-field\n                                                v-model=\"editedItem.comentario\"\n                                                label=\"Comentario\"\n                                            ></v-text-field>\n                                        </v-col>\n                                    </v-row>\n                                </v-container>\n                            </v-card-text>\n\n                            <v-card-actions>\n                                <v-spacer></v-spacer>\n                                <v-btn\n                                    color=\"blue-darken-1\"\n                                    variant=\"text\"\n                                    @click=\"close\"\n                                >\n                                    Cancelar\n                                </v-btn>\n                                <v-btn\n                                    color=\"blue-darken-1\"\n                                    variant=\"text\"\n                                    @click=\"save\"\n                                >\n                                    Guardar\n                                </v-btn>\n                            </v-card-actions>\n                        </v-card>\n                    </v-dialog>\n\n                    <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\n                        <v-card>\n                            <v-card-title class=\"text-h5\"\n                                >Seguro que quiere borrar el\n                                registro?</v-card-title\n                            >\n                            <v-card-actions>\n                                <v-spacer></v-spacer>\n                                <v-btn\n                                    color=\"blue-darken-1\"\n                                    variant=\"text\"\n                                    @click=\"closeDelete\"\n                                    >Cancel</v-btn\n                                >\n                                <v-btn\n                                    color=\"blue-darken-1\"\n                                    variant=\"text\"\n                                    @click=\"deleteItemConfirm\"\n                                    >OK</v-btn\n                                >\n                                <v-spacer></v-spacer>\n                            </v-card-actions>\n                        </v-card>\n                    </v-dialog>\n                </v-toolbar>\n            </template>\n\n            <template v-slot:item.actions=\"{ item }\">\n                <v-tooltip text=\"Editar\" location=\"top\">\n                    <template v-slot:activator=\"{ props }\">\n                        <v-btn\n                            v-bind=\"props\"\n                            density=\"compact\"\n                            class=\"mr-2 ml-2\"\n                            color=\"#662D91\"\n                            :icon=\"'mdi-account-edit'\"\n                            @click=\"editItem(item)\"\n                        ></v-btn>\n                    </template>\n                </v-tooltip>\n\n                <v-tooltip text=\"Eliminar\" location=\"top\">\n                    <template v-slot:activator=\"{ props }\">\n                        <v-btn\n                            v-bind=\"props\"\n                            density=\"compact\"\n                            class=\"mr-2 ml-2\"\n                            color=\"#662D91\"\n                            :icon=\"'mdi-delete'\"\n                            @click=\"deleteItem(item)\"\n                        ></v-btn>\n                    </template>\n                </v-tooltip>\n            </template>\n            <template v-slot:no-data>\n                <v-btn type=\"valiant\" @click=\"initialize\"> Iniciar </v-btn>\n            </template>\n        </v-data-table>\n    </v-container>\n</template>\n"],"names":["page","usePage","store","useDataStore","listaResponse","computed","_sfc_main","val","user","router","item","edited","added","_hoisted_1","_createBlock","_component_v_container","_withCtx","_createVNode","_component_v_data_table","_ctx","_component_v_toolbar","_component_v_toolbar_title","_createTextVNode","_component_v_divider","_component_v_spacer","_component_v_dialog","_cache","$event","props","_component_v_btn","$options","_mergeProps","_component_v_card","_component_v_card_title","_createElementVNode","_toDisplayString","_component_v_card_text","_component_v_row","_component_v_col","_component_v_text_field","_component_v_card_actions","_component_v_tooltip"],"mappings":"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"}