import{x as $,z,h as G,j as a,o as R,c as q,w as o,b as e,f as i,t as v,a as f,k as H,m as b}from"./app-Cw_Vz0lM.js";import{u as J}from"./store-BZuqkbyQ.js";import{f as K,c,h as L,o as O,a as W,b as X,d as Y,e as Z}from"./helper-CRDvS7nw.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";const te={class:"text-h5"},oe={__name:"EnfermedadPage",setup(ae){const w=J(),t=$({endpoints:[""],headers:[{title:"Enfermedad",align:"start",sortable:!0},{title:"Comentario",key:"comentario",sortable:!1},{title:"Acciones",align:"center",key:"actions"}],editedItem:{paciente_id:null,comentario:""},defaultItem:{paciente_id:null,comentario:null},searchQuery:{paciente_id:null},dialog:!1,tableItems:[],editedIndex:-1,list:[],loading:!1,valid:null,formTitle:"Enfermedad",formCrear:"Nueva enfermedad",formEdit:"Editar enfermedad",urlShow:"/enfermedad/show",urlUpdate:"/enfermedad/update",urlDelete:"/enfermedad/delete",urlStore:"/enfermedad"});z(async()=>{t.list=await K(t.endpoints)});const C=G(()=>t.editedIndex===-1?t.formCrear:t.formEdit);function k(){c(t)}const m=async()=>{t.searchQuery.paciente_id=w.getSelected.id,await L(t)};function x(){O(t)}function I(){return t.editedIndex>-1?y():g()}const g=async()=>{await W(t),c(t)};function h(r){X(t,r)}const y=async()=>{await Y(t),c(t)},E=async r=>{await Z(t,r)};return(r,n)=>{const A=a("v-toolbar-title"),S=a("v-divider"),u=a("v-spacer"),d=a("v-btn"),V=a("v-card-title"),T=a("v-text-field"),P=a("v-col"),D=a("v-row"),_=a("v-container"),N=a("v-card-text"),B=a("v-card-actions"),F=a("v-card"),U=a("v-dialog"),j=a("v-toolbar"),p=a("v-tooltip"),M=a("v-data-table");return R(),q(_,null,{default:o(()=>[e(M,{headers:t.headers,items:t.tableItems},{top:o(()=>[e(j,{flat:""},{default:o(()=>[e(A,null,{default:o(()=>[i(v(t.formTitle),1)]),_:1}),e(S,{class:"mx-4",inset:"",vertical:""}),e(u),e(U,{modelValue:t.dialog,"onUpdate:modelValue":n[2]||(n[2]=l=>t.dialog=l)},{activator:o(({props:l})=>[e(d,{icon:"mdi-update",variant:"tonal",class:"ma-2",color:"#009AA4",onClick:m}),e(d,{icon:"mdi-account-multiple-plus",variant:"tonal",class:"ma-2",color:"#009AA4",onClick:x})]),default:o(()=>[e(F,null,{default:o(()=>[f("form",{onSubmit:n[1]||(n[1]=H((...l)=>r.submit&&r.submit(...l),["prevent"]))},[e(V,null,{default:o(()=>[f("span",te,v(C.value),1)]),_:1}),e(N,null,{default:o(()=>[e(_,null,{default:o(()=>[e(D,null,{default:o(()=>[e(P,null,{default:o(()=>[e(T,{modelValue:t.editedItem.comentario,"onUpdate:modelValue":n[0]||(n[0]=l=>t.editedItem.comentario=l),label:"comentario",type:"text",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(B,null,{default:o(()=>[e(u),e(d,{color:"blue-darken-1",variant:"tonal",onClick:k},{default:o(()=>n[3]||(n[3]=[i(" Cancelar ")])),_:1}),e(d,{color:"blue-darken-1",variant:"tonal",onClick:I},{default:o(()=>n[4]||(n[4]=[i(" Guardar ")])),_:1})]),_:1})],32)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),"item.actions":o(({item:l})=>[e(p,{text:"Editar",location:"top"},{activator:o(({props:s})=>[e(d,b(s,{density:"compact",class:"mr-2 ml-2",color:"#009AA4",variant:"tonal",icon:"mdi-account-edit",onClick:Q=>h(l)}),null,16,["onClick"])]),_:2},1024),e(p,{text:"Eliminar",location:"top"},{activator:o(({props:s})=>[e(d,b(s,{density:"compact",class:"mr-2 ml-2",color:"#009AA4",variant:"tonal",icon:"mdi-delete",onClick:Q=>E(l)}),null,16,["onClick"])]),_:2},1024)]),"no-data":o(()=>[e(d,{variant:"tonal",onClick:m},{default:o(()=>n[5]||(n[5]=[i(" Iniciar ")])),_:1})]),_:1},8,["headers","items"])]),_:1})}}},ie=ee(oe,[["__file","/home/blueshadows/www/esalud/resources/js/Pages/SubPages/EnfermedadPage.vue"]]);export{ie as default};
//# sourceMappingURL=EnfermedadPage-BrzKiR8m.js.map
