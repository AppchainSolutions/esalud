{"version":3,"file":"Solicitud-ServicioComponente-CpbCtn54.js","sources":["../../../resources/js/Pages/SubPages/Componentes/Solicitud-ServicioComponente.vue"],"sourcesContent":["<script setup>\nimport { ref } from \"vue\";\nimport AppLayout from \"@/Layouts/AppLayout.vue\";\n\n// import { useAxios } from '@vueuse/integrations/useAxios';\ndefineOptions({ layout: AppLayout });\n\nconst valid = ref(false);\nconst rut = ref(\"\");\nconst nombrePaciente = ref(\"\");\nconst especialidadSeleccionada = ref(\"\");\nconst motivoConsulta = ref(\"\");\nconst pacienteEncontrado = ref(false);\nconst especialidades = ref([\"Psicología\", \"Terapia Ocupacional\", \"Kinesiología\"]); // Ejemplo de especialidades\n\nconst rules = {\n    required: (value) => !!value || \"Este campo es requerido\",\n};\n\nconst especialidad = ref(especialidades.value[0]); // Inicializar especialidad por defecto\n\nconst buscarPaciente = async () => {\n    /* try {\n        const { data } = await useAxios(`/api/pacientes/${rut.value}`);\n        if (data.value) {\n            nombrePaciente.value = data.value.nombre;\n            pacienteEncontrado.value = true;\n        } else {\n            nombrePaciente.value = \"\";\n            pacienteEncontrado.value = false;\n        }\n    } catch (error) {\n        nombrePaciente.value = \"\";\n        pacienteEncontrado.value = false;\n    } */\n};\n\nconst submit = async () => {\n    if (valid.value) {\n        const solicitud = {\n            rut: rut.value,\n            nombrePaciente: nombrePaciente.value,\n            especialidad: especialidadSeleccionada.value,\n            motivoConsulta: motivoConsulta.value,\n        };\n        try {\n            await useAxios.post(\"/api/solicitudes\", solicitud);\n            alert(\"Solicitud ingresada correctamente\");\n            resetForm();\n        } catch (error) {\n            alert(\"Error al ingresar la solicitud\");\n        }\n    }\n};\n\nconst resetForm = () => {\n    rut.value = \"\";\n    nombrePaciente.value = \"\";\n    especialidad.value = \"\";\n    motivoConsulta.value = \"\";\n    pacienteEncontrado.value = false;\n    valid.value = false;\n};\n\n\n</script>\n\n<template>\n    <v-card>\n        <v-card-title>Ingresar Nueva Solicitud de Servicio</v-card-title>\n        <v-card-text>\n            <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                <v-row>\n                <v-col cols=\"6\">\n                <v-text-field\n                    v-model=\"rut\"\n                    label=\"RUT solicitante\"\n                    :rules=\"[rules.required]\"\n                    @blur=\"buscarPaciente\"\n                ></v-text-field>\n\n                <v-btn\n                    prepend-icon=\"mdi-account-multiple-plus\"\n                    variant=\"tonal\"\n                    class=\"ma-2\"\n                    color=\"#009AA4\"\n                    type=\"submit\"\n                >\n                    Buscar usuario\n                </v-btn>\n                <v-btn\n                    prepend-icon=\"mdi-account-multiple-plus\"\n                    variant=\"tonal\"\n                    class=\"ma-2\"\n                    color=\"#009AA4\"\n                    type=\"submit\"\n                >\n                    Agregar nuevo usuario\n                </v-btn>\n                <v-text-field\n                    v-model=\"nombre\"\n                    label=\"Nombre solicitante\"\n                    :rules=\"[rules.required]\"\n                    @blur=\"buscarPaciente\"\n                ></v-text-field>\n\n                <v-btn\n                    prepend-icon=\"mdi-account-multiple-plus\"\n                    variant=\"tonal\"\n                    class=\"ma-2\"\n                    color=\"#009AA4\"\n                    type=\"submit\"\n                >\n                    Consultar ficha usuario\n                </v-btn>\n                <v-btn :disabled=\"!valid\" @click=\"submit\"\n                    >Ingresar Solicitud</v-btn\n                >\n            </v-col>\n            <v-col cols=\"6\">\n                <v-select\n                    v-model=\"especialidadSeleccionada\"\n                    :items=\"especialidades\"\n                    label=\"Especialidad Solicitada\"\n                    :rules=\"[rules.required]\"\n                ></v-select>\n\n                <v-textarea\n                    v-model=\"motivoConsulta\"\n                    label=\"Motivo de Consulta\"\n                    :rules=\"[rules.required]\"\n                ></v-textarea>\n\n                \n                <v-text-field\n                    v-model=\"nombre\"\n                    label=\"Numero de Solicitud Asignada\"\n                    :rules=\"[rules.required]\"\n                    @blur=\"buscarPaciente\"\n                ></v-text-field>\n            </v-col>\n        </v-row>\n            </v-form>\n        </v-card-text>\n    </v-card>\n</template>\n\n<style scoped>\n/* Estilos personalizados si es necesario */\n</style>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAOA,UAAM,QAAQ,IAAI,KAAK;AACvB,UAAM,MAAM,IAAI,EAAE;AAClB,UAAM,iBAAiB,IAAI,EAAE;AAC7B,UAAM,2BAA2B,IAAI,EAAE;AACvC,UAAM,iBAAiB,IAAI,EAAE;AAC7B,UAAM,qBAAqB,IAAI,KAAK;AACpC,UAAM,iBAAiB,IAAI,CAAC,cAAc,uBAAuB,cAAc,CAAC;AAEhF,UAAM,QAAQ;AAAA,MACV,UAAU,CAAC,UAAU,CAAC,CAAC,SAAS;AAAA,IACpC;AAEA,UAAM,eAAe,IAAI,eAAe,MAAM,CAAC,CAAC;AAEhD,UAAM,iBAAiB,YAAY;AAAA,IAcnC;AAEA,UAAM,SAAS,YAAY;AACvB,UAAI,MAAM,OAAO;AACb,cAAM,YAAY;AAAA,UACd,KAAK,IAAI;AAAA,UACT,gBAAgB,eAAe;AAAA,UAC/B,cAAc,yBAAyB;AAAA,UACvC,gBAAgB,eAAe;AAAA,QAClC;AACD,YAAI;AACA,gBAAM,SAAS,KAAK,oBAAoB,SAAS;AACjD,gBAAM,mCAAmC;AACzC,oBAAW;AAAA,QACd,SAAQ,OAAO;AACZ,gBAAM,gCAAgC;AAAA,QAClD;AAAA,MACA;AAAA,IACA;AAEA,UAAM,YAAY,MAAM;AACpB,UAAI,QAAQ;AACZ,qBAAe,QAAQ;AACvB,mBAAa,QAAQ;AACrB,qBAAe,QAAQ;AACvB,yBAAmB,QAAQ;AAC3B,YAAM,QAAQ;AAAA,IAClB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}