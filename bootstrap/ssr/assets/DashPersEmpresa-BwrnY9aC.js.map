{"version":3,"file":"DashPersEmpresa-BwrnY9aC.js","sources":["../../../resources/js/Pages/SubPages/DashPersEmpresa.vue"],"sourcesContent":["<script setup>\nimport { Doughnut } from \"vue-chartjs\";\nimport { onMounted, reactive, ref } from \"vue\";\nimport autocolors from \"chartjs-plugin-autocolors\";\nimport {\n    Chart as ChartJS,\n    Title,\n    Tooltip,\n    Legend,\n    ArcElement,\n    CategoryScale,\n    LinearScale,\n} from \"chart.js\";\n\nChartJS.register(\n    Title,\n    Tooltip,\n    Legend,\n    ArcElement,\n    CategoryScale,\n    LinearScale,\n    autocolors\n);\n\nconst chartData = reactive({\n    labels: [],\n    datasets: [\n        {\n            label: \"Cantidad\",\n            data: [],\n        },\n    ],\n});\n\nconst chartOptions = {\n    responsive: true,\n    maintainAspectRatio: true,\n    plugins: {\n        autocolors: {\n            mode: \"data\",\n        },\n    },\n};\n\nlet loaded = ref(false);\n\nconst getData = async () => {\n  try {\n    const { data } = await axios.get(\"/dashboard/personasPorEmpresa\");\n    const { descripcion, total } = data.reduce((acc, { descripcion, total }) => {\n      acc.descripcion.push(descripcion);\n      acc.total.push(total);\n      return acc;\n    }, { descripcion: [], total: [] });\n\n    chartData.labels = descripcion;\n    chartData.datasets[0].data = total;\n  } catch (error) {\n    console.log(\"Error al obtener los datos.\" + error);\n  }\n};\n\nonMounted(async () => {\n    try {\n        await getData();\n        loaded.value = true;\n    } catch (error) {\n        console.log(error);\n    }\n});\n</script>\n\n<template>\n    <div style=\"width: 80%\">\n        <Doughnut :options=\"chartOptions\" :data=\"chartData\" v-if=\"loaded\" />\n    </div>\n</template>\n"],"names":["ChartJS","descripcion","total"],"mappings":";;;;;;;;;;AAcAA,UAAQ;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACJ;AAEA,UAAM,YAAY,SAAS;AAAA,MACvB,QAAQ,CAAE;AAAA,MACV,UAAU;AAAA,QACN;AAAA,UACI,OAAO;AAAA,UACP,MAAM,CAAE;AAAA,QACX;AAAA,MACJ;AAAA,IACL,CAAC;AAED,UAAM,eAAe;AAAA,MACjB,YAAY;AAAA,MACZ,qBAAqB;AAAA,MACrB,SAAS;AAAA,QACL,YAAY;AAAA,UACR,MAAM;AAAA,QACT;AAAA,MACJ;AAAA,IACL;AAEA,QAAI,SAAS,IAAI,KAAK;AAEtB,UAAM,UAAU,YAAY;AAC1B,UAAI;AACF,cAAM,EAAE,KAAM,IAAG,MAAM,MAAM,IAAI,+BAA+B;AAChE,cAAM,EAAE,aAAa,MAAK,IAAK,KAAK,OAAO,CAAC,KAAK,EAAE,aAAAC,cAAa,OAAAC,aAAY;AAC1E,cAAI,YAAY,KAAKD,YAAW;AAChC,cAAI,MAAM,KAAKC,MAAK;AACpB,iBAAO;AAAA,QACR,GAAE,EAAE,aAAa,CAAA,GAAI,OAAO,CAAE,EAAA,CAAE;AAEjC,kBAAU,SAAS;AACnB,kBAAU,SAAS,CAAC,EAAE,OAAO;AAAA,MAC9B,SAAQ,OAAO;AACd,gBAAQ,IAAI,gCAAgC,KAAK;AAAA,MACrD;AAAA,IACA;AAEA,cAAU,YAAY;AAClB,UAAI;AACA,cAAM,QAAS;AACf,eAAO,QAAQ;AAAA,MAClB,SAAQ,OAAO;AACZ,gBAAQ,IAAI,KAAK;AAAA,MACzB;AAAA,IACA,CAAC;;;;;;;;;;;;;;;;;;;;;;"}