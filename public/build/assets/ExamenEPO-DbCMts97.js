import{s as q,x as H,h as J,i as n,o as K,c as L,w as l,b as t,e as c,t as I,a as W,m as x}from"./app-DGHO5O1D.js";import{u as X}from"./store-BSbL8kpK.js";import{f as Y,c as p,a as Z,o as ee,b as g,d as te,e as ae}from"./helper-DsNffL06.js";import{_ as oe}from"./_plugin-vue_export-helper-DlAUqK2U.js";const le={class:"text-h5 ma-4"},ne={__name:"ExamenEPO",setup(ie){const y=X(),e=q({endpoints:["bateria","estado_epo","semaforo","tipo_examen"],headers:[{title:"N° solicitud",align:"start",sortable:!0,key:"numero_solicitud"},{title:"Estatus",align:"start",sortable:!0,key:"estado_epo.descripcion"},{title:"Batería",align:"start",sortable:!0,key:"bateria.descripcion"},{title:"Fecha realización",align:"start",sortable:!0,key:"fecha_realizacion"},{title:"Fecha recepción",align:"start",sortable:!0,key:"fecha_recepcion"},{title:"Fecha solicitud",align:"start",sortable:!0,key:"fecha_solicitud"},{title:"Fecha vencimiento",align:"start",sortable:!0,key:"fecha_vencimiento"},{title:"Semáforo",align:"start",sortable:!0,key:"semaforo.descripcion"},{title:"Acciones",width:"10em",align:"center",key:"actions"}],editedItem:{paciente_id:null,codigo_verificacion:null,numero_solicitud:null,comentario:null,estado_epo:null,fecha_realizacion:null,fecha_recepcion:null,fecha_solicitud:null,fecha_vencimiento:null,bateria:null,resultado:"No apto",semaforo:null,tipo_examen:null},defaultItem:{paciente_id:null,codigo_verificacion:null,numero_solicitud:null,comentario:null,estado_epo:null,fecha_realizacion:null,fecha_recepcion:null,fecha_solicitud:null,fecha_vencimiento:null,bateria:null,resultado:"No apto",semaforo:null,tipo_examen:null},searchQuery:{paciente_id:null},dialog:!1,tableItems:[],editedIndex:-1,list:[],loadingSearch:!1,valid:null,formTitle:"Ocupacionales y Preocupacionales",formCrear:"Nuevo exámen Ocupacional / Preocupacional",formEdit:"Editar datos Ocupacional / Preocupacional",urlShow:"examen/epo/show",urlUpdate:"examen/epo/update",urlDelete:"examen/epo/delete",urlStore:"examen/epo"});H(async()=>{e.list=await Y(e.endpoints)});const h=J(()=>e.editedIndex===-1?e.formCrear:e.formEdit);function k(){p(e)}const _=async()=>{e.searchQuery.paciente_id=y.getSelected.id,await Z(e)};function w(){ee(e)}function C(i){return e.editedIndex>-1?E():A()}const A=async()=>{await g(e,"create"),p(e)},E=async()=>{await g(e,"edit"),p(e)};function U(i){te(e,i)}const S=async i=>{await ae(e,i)};return(i,a)=>{const F=n("v-toolbar-title"),N=n("v-divider"),v=n("v-spacer"),d=n("v-btn"),z=n("v-card-title"),r=n("v-text-field"),s=n("v-select"),m=n("v-sheet"),f=n("v-col"),P=n("v-switch"),T=n("v-row"),B=n("v-card-text"),O=n("v-card-actions"),b=n("v-container"),D=n("v-form"),$=n("v-card"),Q=n("v-dialog"),R=n("v-toolbar"),j=n("v-icon"),V=n("v-tooltip"),G=n("v-data-table");return K(),L(b,{fluid:""},{default:l(()=>[t(G,{headers:e.headers,items:e.tableItems},{top:l(()=>[t(R,{flat:""},{default:l(()=>[t(F,null,{default:l(()=>[c(I(e.formTitle),1)]),_:1}),t(N,{class:"mx-4",inset:"",vertical:""}),t(v),t(Q,{modelValue:e.dialog,"onUpdate:modelValue":a[12]||(a[12]=o=>e.dialog=o)},{activator:l(({props:o})=>[t(d,{icon:"mdi-update",variant:"tonal",class:"ma-2",color:"#009AA4",loading:e.loadingSearch,onClick:_},null,8,["loading"]),t(d,{icon:"mdi-account-multiple-plus",variant:"tonal",class:"ma-2",color:"#009AA4",onClick:w})]),default:l(()=>[t($,null,{default:l(()=>[t(D,null,{default:l(()=>[t(z,null,{default:l(()=>[W("span",le,I(h.value),1)]),_:1}),t(B,null,{default:l(()=>[t(T,null,{default:l(()=>[t(f,null,{default:l(()=>[t(m,{elevation:"12",class:"ma-4 pa-4",rounded:"",border:""},{default:l(()=>[t(r,{modelValue:e.editedItem.numero_solicitud,"onUpdate:modelValue":a[0]||(a[0]=o=>e.editedItem.numero_solicitud=o),label:"N° solicitud",type:"number",variant:"underlined",clearable:""},null,8,["modelValue"]),t(s,{modelValue:e.editedItem.estado_epo,"onUpdate:modelValue":a[1]||(a[1]=o=>e.editedItem.estado_epo=o),items:e.list.estado_epo,"item-title":"descripcion","item-value":"id",label:"Estatus",variant:"underlined",clearable:""},null,8,["modelValue","items"]),t(s,{modelValue:e.editedItem.bateria,"onUpdate:modelValue":a[2]||(a[2]=o=>e.editedItem.bateria=o),items:e.list.bateria,"item-title":"descripcion","item-value":"id",label:"Batería",variant:"underlined",chips:""},null,8,["modelValue","items"]),t(s,{modelValue:e.editedItem.tipo_examen,"onUpdate:modelValue":a[3]||(a[3]=o=>e.editedItem.tipo_examen=o),items:e.list.tipo_examen,"item-title":"descripcion","item-value":"id",label:"Tipo de exámen",variant:"underlined"},null,8,["modelValue","items"]),t(r,{modelValue:e.editedItem.fecha_realizacion,"onUpdate:modelValue":a[4]||(a[4]=o=>e.editedItem.fecha_realizacion=o),label:"Fecha de realización",type:"date",variant:"underlined"},null,8,["modelValue"]),t(r,{modelValue:e.editedItem.fecha_solicitud,"onUpdate:modelValue":a[5]||(a[5]=o=>e.editedItem.fecha_solicitud=o),label:"Fecha solicitud",type:"date",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1}),t(f,null,{default:l(()=>[t(m,{elevation:"12",class:"ma-4 pa-4",rounded:"",border:""},{default:l(()=>[t(r,{modelValue:e.editedItem.codigo_verificacion,"onUpdate:modelValue":a[6]||(a[6]=o=>e.editedItem.codigo_verificacion=o),label:"Cod. verif.",type:"number",variant:"underlined",clearable:""},null,8,["modelValue"]),t(s,{modelValue:e.editedItem.semaforo,"onUpdate:modelValue":a[7]||(a[7]=o=>e.editedItem.semaforo=o),items:e.list.semaforo,"item-title":"descripcion","item-value":"id",label:"Semáforo",variant:"underlined"},null,8,["modelValue","items"]),t(r,{modelValue:e.editedItem.fecha_recepcion,"onUpdate:modelValue":a[8]||(a[8]=o=>e.editedItem.fecha_recepcion=o),label:"Fecha recepción",type:"date",variant:"underlined"},null,8,["modelValue"]),t(r,{modelValue:e.editedItem.fecha_vencimiento,"onUpdate:modelValue":a[9]||(a[9]=o=>e.editedItem.fecha_vencimiento=o),label:"Fecha vencimiento",type:"date",variant:"underlined"},null,8,["modelValue"]),t(P,{modelValue:e.editedItem.resultado,"onUpdate:modelValue":a[10]||(a[10]=o=>e.editedItem.resultado=o),"hide-details":"","true-value":"Apto","false-value":"No apto",class:"ml-4 mt-4",variant:"underlined",color:"green-darken-3",inset:"",clearable:"",label:`Resultado: ${e.editedItem.resultado.toString()}`},null,8,["modelValue","label"]),t(r,{modelValue:e.editedItem.comentario,"onUpdate:modelValue":a[11]||(a[11]=o=>e.editedItem.comentario=o),label:"Comentario",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(b,{fluid:""},{default:l(()=>[t(m,{class:"pa-2",elevation:"2"},{default:l(()=>[t(O,null,{default:l(()=>[t(v),t(d,{color:"#009AA4",variant:"tonal",onClick:k},{default:l(()=>a[13]||(a[13]=[c(" Cancelar ")])),_:1}),t(d,{color:"#009AA4",variant:"tonal",onClick:C},{default:l(()=>a[14]||(a[14]=[c(" Guardar ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),"item.state.editedItem.semaforo":l(({item:o})=>[t(j,{icon:i.mdi-i.eye-i.off-i.outline},null,8,["icon"])]),"item.actions":l(({item:o})=>[t(V,{text:"Editar",location:"top"},{activator:l(({props:u})=>[t(d,x(u,{density:"compact",class:"mr-2 ml-2",color:"#009AA4",variant:"tonal",icon:"mdi-account-edit",onClick:M=>U(o)}),null,16,["onClick"])]),_:2},1024),t(V,{text:"Eliminar",location:"top"},{activator:l(({props:u})=>[t(d,x(u,{density:"compact",class:"mr-2 ml-2",color:"#009AA4",variant:"tonal",icon:"mdi-delete",onClick:M=>S(o)}),null,16,["onClick"])]),_:2},1024)]),"no-data":l(()=>[t(d,{color:"#009AA4",variant:"tonal",onClick:_},{default:l(()=>a[15]||(a[15]=[c(" Iniciar ")])),_:1})]),_:1},8,["headers","items"])]),_:1})}}},me=oe(ne,[["__file","/home/omar/www/esalud/resources/js/Pages/Examenes/ExamenEPO.vue"]]);export{me as default};
//# sourceMappingURL=ExamenEPO-DbCMts97.js.map
