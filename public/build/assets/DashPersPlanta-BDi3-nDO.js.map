{"version":3,"file":"DashPersPlanta-BDi3-nDO.js","sources":["../../../resources/js/Pages/SubPages/DashPersPlanta.vue"],"sourcesContent":["<script setup>\nimport { Pie } from \"vue-chartjs\";\nimport { onMounted, reactive, ref } from \"vue\";\nimport autocolors from 'chartjs-plugin-autocolors';\nimport {\n    Chart as ChartJS,\n    Title,\n    Tooltip,\n    Legend,\n    ArcElement,\n    CategoryScale\n} from \"chart.js\";\n\nChartJS.register(\n    Title,\n    Tooltip,\n    Legend,\n    ArcElement,\n    CategoryScale,\n    autocolors\n);\n\nconst chartData = reactive({\n    labels: [],\n    datasets: [\n        {\n            data: []\n          //  backgroundColor: [],\n        }\n    ]\n});\n\nconst chartOptions = {\n    responsive: true,\n    maintainAspectRatio: true,\n    plugins: {\n      autocolors: {\n        mode: 'data'\n      }\n    }\n};\n\nlet loaded = ref(false);\n\nconst getData = async () => {\n    const response = await axios.get(\"/dashboard/personasPorPlanta\");\n    const { data } = response;\n    const descripcion = data.map((item) => item.descripcion);\n    const totals = data.map((item) => item.total);\n    chartData.labels = descripcion;\n    chartData.datasets[0].data = totals;\n};\n\nonMounted(async () => {\n    try {\n        await getData();\n        loaded.value = true;\n    } catch (error) {\n        console.log(error);\n    }\n});\n</script>\n\n<template>\n <div style=\"width: 80%;\">\n    <Pie :options=\"chartOptions\" :data=\"chartData\" v-if=\"loaded\" />\n</div>\n</template>\n"],"names":["ChartJS","Title","Tooltip","Legend","ArcElement","CategoryScale","autocolors","chartData","reactive","chartOptions","loaded","ref","getData","response","data","descripcion","item","totals","onMounted","error"],"mappings":"iUAaAA,EAAQ,SACJC,EACAC,EACAC,EACAC,EACAC,EACAC,CACJ,EAEA,MAAMC,EAAYC,EAAS,CACvB,OAAQ,CAAE,EACV,SAAU,CACN,CACI,KAAM,CAAE,CAEX,CACJ,CACL,CAAC,EAEKC,EAAe,CACjB,WAAY,GACZ,oBAAqB,GACrB,QAAS,CACP,WAAY,CACV,KAAM,MACP,CACF,CACL,EAEA,IAAIC,EAASC,EAAI,EAAK,EAEtB,MAAMC,EAAU,SAAY,CACxB,MAAMC,EAAW,MAAM,MAAM,IAAI,8BAA8B,EACzD,CAAE,KAAAC,CAAM,EAAGD,EACXE,EAAcD,EAAK,IAAKE,GAASA,EAAK,WAAW,EACjDC,EAASH,EAAK,IAAKE,GAASA,EAAK,KAAK,EAC5CT,EAAU,OAASQ,EACnBR,EAAU,SAAS,CAAC,EAAE,KAAOU,CACjC,EAEA,OAAAC,EAAU,SAAY,CAClB,GAAI,CACA,MAAMN,EAAO,EACbF,EAAO,MAAQ,EAClB,OAAQS,EAAO,CACZ,QAAQ,IAAIA,CAAK,CACpB,CACL,CAAC"}