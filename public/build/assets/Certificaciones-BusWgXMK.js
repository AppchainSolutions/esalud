import{u as O}from"./store-CQ5cYC65.js";import{Q as j,h as E,i as m,j as a,o as N,c as T,w as l,b as e,f as n,m as u,a as U,t as z}from"./app-DivcrGOD.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P=j(),_=O(),q=E(()=>P.props.responseData),J={data:()=>({dialog:!1,dialogDelete:!1,headers:[{title:"CertificaciÃ³n",align:"start",sortable:!0,key:"certificacion"},{title:"Comentario",key:"comentario",sortable:!1},{title:"",key:"actions",sortable:!1}],lista:[{}],editedIndex:-1,editedItem:{idpersonal:_.userSelected,alergia:"",comentario:0},defaultItem:{idpersonal:_.userSelected,alergia:"",comentario:""}}),computed:{formTitle(){return this.editedIndex===-1?"Agregar registro":"Editar registro"}},watch:{dialog(t){t||this.close()},dialogDelete(t){t||this.closeDelete()}},methods:{initialize(){let t=_.userSelected;m.get("/alergia",{rut:t}),this.lista=q.value},editItem(t){this.editedIndex=this.lista.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem(t){this.editedIndex=this.lista.indexOf(t),this.editedItem=Object.assign({},t),this.dialogDelete=!0},deleteItemConfirm(){this.lista.splice(this.editedIndex,1),this.closeDelete()},close(){this.dialog=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},closeDelete(){this.dialogDelete=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},save(){if(this.editedIndex>-1){let t=[];Object.assign(this.lista[this.editedIndex],this.editedItem),t=JSON.parse(JSON.stringify(this.editedItem)),console.log("ðŸš€ ~ file: alergiaes.vue:137 ~ save ~ edited:",t),this.saveEdit(t)}else this.lista.push(this.editedItem),this.saveSave(this.lista);this.close()},saveEdit(t){m.put("/alergia/edit",{alergia:t})},saveSave(t){m.put("/alergia/store",{alergia:t})}}},A={class:"text-h5"};function F(t,d,G,K,Q,o){const b=a("v-toolbar-title"),x=a("v-divider"),r=a("v-spacer"),s=a("v-btn"),v=a("v-card-title"),f=a("v-text-field"),p=a("v-col"),D=a("v-row"),h=a("v-container"),V=a("v-card-text"),g=a("v-card-actions"),I=a("v-card"),C=a("v-dialog"),S=a("v-toolbar"),k=a("v-tooltip"),w=a("v-data-table");return N(),T(h,null,{default:l(()=>[e(w,{headers:t.headers,items:t.lista,"sort-by":[{key:"alergia",order:"asc"}]},{top:l(()=>[e(S,{flat:""},{default:l(()=>[e(b,null,{default:l(()=>[n("Certificaciones")]),_:1}),e(x,{class:"mx-4",inset:"",vertical:""}),e(r),e(C,{modelValue:t.dialog,"onUpdate:modelValue":d[2]||(d[2]=i=>t.dialog=i)},{activator:l(({props:i})=>[e(s,{icon:"mdi-update",variant:"underlined",ligth:"",class:"ma-2",color:"#662D91",onClick:o.initialize},null,8,["onClick"]),e(s,u({icon:"mdi-account-multiple-plus",variant:"underlined",ligth:"",class:"ma-2",color:"#662D91"},i),null,16)]),default:l(()=>[e(I,null,{default:l(()=>[e(v,null,{default:l(()=>[U("span",A,z(o.formTitle),1)]),_:1}),e(V,null,{default:l(()=>[e(h,null,{default:l(()=>[e(D,null,{default:l(()=>[e(p,{cols:"12",sm:"6",md:"4"},{default:l(()=>[e(f,{modelValue:t.editedItem.certificacion,"onUpdate:modelValue":d[0]||(d[0]=i=>t.editedItem.certificacion=i),label:"CertificaciÃ³n"},null,8,["modelValue"])]),_:1}),e(p,{cols:"6",sm:"6",md:"4"},{default:l(()=>[e(f,{modelValue:t.editedItem.comentario,"onUpdate:modelValue":d[1]||(d[1]=i=>t.editedItem.comentario=i),label:"Comentario"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(g,null,{default:l(()=>[e(r),e(s,{color:"blue-darken-1",variant:"text",onClick:o.close},{default:l(()=>[n(" Cancelar ")]),_:1},8,["onClick"]),e(s,{color:"blue-darken-1",variant:"text",onClick:o.save},{default:l(()=>[n(" Guardar ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(C,{modelValue:t.dialogDelete,"onUpdate:modelValue":d[3]||(d[3]=i=>t.dialogDelete=i),"max-width":"500px"},{default:l(()=>[e(I,null,{default:l(()=>[e(v,{class:"text-h5"},{default:l(()=>[n("Seguro que quiere borrar el registro?")]),_:1}),e(g,null,{default:l(()=>[e(r),e(s,{color:"blue-darken-1",variant:"text",onClick:o.closeDelete},{default:l(()=>[n("Cancel")]),_:1},8,["onClick"]),e(s,{color:"blue-darken-1",variant:"text",onClick:o.deleteItemConfirm},{default:l(()=>[n("OK")]),_:1},8,["onClick"]),e(r)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),"item.actions":l(({item:i})=>[e(k,{text:"Editar",location:"top"},{activator:l(({props:c})=>[e(s,u(c,{density:"compact",class:"mr-2 ml-2",color:"#662D91",icon:"mdi-account-edit",onClick:y=>o.editItem(i)}),null,16,["onClick"])]),_:2},1024),e(k,{text:"Eliminar",location:"top"},{activator:l(({props:c})=>[e(s,u(c,{density:"compact",class:"mr-2 ml-2",color:"#662D91",icon:"mdi-delete",onClick:y=>o.deleteItem(i)}),null,16,["onClick"])]),_:2},1024)]),"no-data":l(()=>[e(s,{type:"valiant",onClick:o.initialize},{default:l(()=>[n(" Iniciar ")]),_:1},8,["onClick"])]),_:1},8,["headers","items"])]),_:1})}const M=B(J,[["render",F],["__file","/home/blueshadows/www/vulco/resources/js/Pages/SubPages/Certificaciones.vue"]]);export{M as default};
//# sourceMappingURL=Certificaciones-BusWgXMK.js.map
