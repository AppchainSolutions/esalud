import{r as s,j as u,o as N,c as E,w as t,b as l,f as c}from"./app-Cw_Vz0lM.js";import{A as j}from"./AppLayout-BVSZgQ1N.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";const I=Object.assign({layout:j},{__name:"Solicitud-ServicioComponente",setup(T){const n=s(!1),r=s(""),i=s(""),f=s(""),m=s(""),v=s(!1),V=s(["Psicología","Terapia Ocupacional","Kinesiología"]),d={required:o=>!!o||"Este campo es requerido"},g=s(V.value[0]),_=async()=>{try{const{data:o}=await useAxios(`/api/pacientes/${r.value}`);o.value?(i.value=o.value.nombre,v.value=!0):(i.value="",v.value=!1)}catch{i.value="",v.value=!1}},A=async()=>{if(n.value){const o={rut:r.value,nombrePaciente:i.value,especialidad:f.value,motivoConsulta:m.value};try{await useAxios.post("/api/solicitudes",o),alert("Solicitud ingresada correctamente"),w()}catch{alert("Error al ingresar la solicitud")}}},w=()=>{r.value="",i.value="",g.value="",m.value="",v.value=!1,n.value=!1};return(o,e)=>{const y=u("v-card-title"),b=u("v-text-field"),p=u("v-btn"),S=u("v-col"),C=u("v-select"),x=u("v-textarea"),q=u("v-row"),U=u("v-form"),B=u("v-card-text"),P=u("v-card");return N(),E(P,null,{default:t(()=>[l(y,null,{default:t(()=>e[6]||(e[6]=[c("Ingresar Nueva Solicitud de Servicio")])),_:1}),l(B,null,{default:t(()=>[l(U,{ref:"form",modelValue:n.value,"onUpdate:modelValue":e[5]||(e[5]=a=>n.value=a),"lazy-validation":""},{default:t(()=>[l(q,null,{default:t(()=>[l(S,{cols:"6"},{default:t(()=>[l(b,{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=a=>r.value=a),label:"RUT solicitante",rules:[d.required],onBlur:_},null,8,["modelValue","rules"]),l(p,{"prepend-icon":"mdi-account-multiple-plus",variant:"tonal",class:"ma-2",color:"#009AA4",type:"submit"},{default:t(()=>e[7]||(e[7]=[c(" Buscar usuario ")])),_:1}),l(p,{"prepend-icon":"mdi-account-multiple-plus",variant:"tonal",class:"ma-2",color:"#009AA4",type:"submit"},{default:t(()=>e[8]||(e[8]=[c(" Agregar nuevo usuario ")])),_:1}),l(b,{modelValue:o.nombre,"onUpdate:modelValue":e[1]||(e[1]=a=>o.nombre=a),label:"Nombre solicitante",rules:[d.required],onBlur:_},null,8,["modelValue","rules"]),l(p,{"prepend-icon":"mdi-account-multiple-plus",variant:"tonal",class:"ma-2",color:"#009AA4",type:"submit"},{default:t(()=>e[9]||(e[9]=[c(" Consultar ficha usuario ")])),_:1}),l(p,{disabled:!n.value,onClick:A},{default:t(()=>e[10]||(e[10]=[c("Ingresar Solicitud")])),_:1},8,["disabled"])]),_:1}),l(S,{cols:"6"},{default:t(()=>[l(C,{modelValue:f.value,"onUpdate:modelValue":e[2]||(e[2]=a=>f.value=a),items:V.value,label:"Especialidad Solicitada",rules:[d.required]},null,8,["modelValue","items","rules"]),l(x,{modelValue:m.value,"onUpdate:modelValue":e[3]||(e[3]=a=>m.value=a),label:"Motivo de Consulta",rules:[d.required]},null,8,["modelValue","rules"]),l(b,{modelValue:o.nombre,"onUpdate:modelValue":e[4]||(e[4]=a=>o.nombre=a),label:"Numero de Solicitud Asignada",rules:[d.required],onBlur:_},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}}}),K=k(I,[["__scopeId","data-v-029e4dc8"],["__file","/home/blueshadows/www/esalud/resources/js/Pages/SubPages/Componentes/Solicitud-ServicioComponente.vue"]]);export{K as default};
//# sourceMappingURL=Solicitud-ServicioComponente-DCDMyR1U.js.map
