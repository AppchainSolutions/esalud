import{s as R,x as q,h as z,i as n,o as H,c as J,w as a,b as t,e as s,t as I,a as K,m as g}from"./app-DGHO5O1D.js";import{u as L}from"./store-BSbL8kpK.js";import{f as W,c,a as X,o as Y,b as Z,d as ee,g as te,e as le}from"./helper-DsNffL06.js";import{_ as oe}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ae={class:"text-h5"},ne={__name:"DiepPage",setup(de){const V=L(),e=R({endpoints:["cie10","seguro","tipo_enfermedad"],headers:[{title:"Folio",align:"start",sortable:!0,key:"folio"},{title:"Tipo de enfermedad",align:"start",sortable:!0,key:"tipo_enfermedad.descripcion"},{title:"Fecha de admision",align:"start",sortable:!0,key:"fecha_admision"},{title:"Estado",align:"start",sortable:!0,key:"estado_diep"},{title:"Acciones",align:"center",key:"actions"}],editedItem:{comentario:null,enfermedad:null,estado_diep:"No Aprobado",fecha_admision:null,folio:null,idpgp:null,numero_resolucion:null,origen_denuncia:null,paciente_id:null,seguro:null,sucursal:null,tipo_enfermedad:null,validado_por:null},defaultItem:{comentario:null,enfermedad:null,estado_diep:"No Aprobado",fecha_admision:null,folio:null,idpgp:null,numero_resolucion:null,origen_denuncia:null,paciente_id:null,seguro:null,sucursal:null,tipo_enfermedad:null,validado_por:null},searchQuery:{paciente_id:null},dialog:!1,tableItems:[],editedIndex:-1,list:[],loading:!1,valid:null,formTitle:"DIEP",formCrear:"Nueva DIEP",formEdit:"Editar DIEP",urlShow:"/diep/show",urlUpdate:"/diep/update",urlDelete:"/diep/delete",urlStore:"/diep"});q(async()=>{e.list=await W(e.endpoints)});const x=z(()=>e.editedIndex===-1?e.formCrear:e.formEdit);function y(){c(e)}const p=async()=>{e.searchQuery.paciente_id=V.getSelected.id,await X(e)};function A(){Y(e)}function w(){return e.editedIndex>-1?E():k()}const k=async()=>{await Z(e),c(e)};function C(r){ee(e,r)}const E=async()=>{await te(),c(e)},D=async r=>{await le(e,r)};return(r,l)=>{const U=n("v-toolbar-title"),P=n("v-divider"),_=n("v-spacer"),d=n("v-btn"),S=n("v-card-title"),i=n("v-text-field"),N=n("v-combobox"),v=n("v-select"),u=n("v-col"),T=n("v-switch"),F=n("v-row"),f=n("v-container"),h=n("v-card-text"),B=n("v-card-actions"),$=n("v-form"),G=n("v-card"),Q=n("v-dialog"),j=n("v-toolbar"),b=n("v-tooltip"),M=n("v-data-table");return H(),J(f,null,{default:a(()=>[t(M,{headers:e.headers,items:e.tableItems},{top:a(()=>[t(j,{flat:""},{default:a(()=>[t(U,null,{default:a(()=>[s(I(e.formTitle),1)]),_:1}),t(P,{class:"mx-4",inset:"",vertical:""}),t(_),t(Q,{modelValue:e.dialog,"onUpdate:modelValue":l[10]||(l[10]=o=>e.dialog=o)},{activator:a(({props:o})=>[t(d,{icon:"mdi-update",color:"#009AA4",variant:"tonal",class:"ma-2",onClick:p}),t(d,{icon:"mdi-account-multiple-plus",class:"ma-2",color:"#009AA4",variant:"tonal",onClick:A})]),default:a(()=>[t(G,null,{default:a(()=>[t($,null,{default:a(()=>[t(S,null,{default:a(()=>[K("span",ae,I(x.value),1)]),_:1}),t(h,null,{default:a(()=>[t(f,null,{default:a(()=>[t(F,null,{default:a(()=>[t(u,null,{default:a(()=>[t(i,{modelValue:e.editedItem.folio,"onUpdate:modelValue":l[0]||(l[0]=o=>e.editedItem.folio=o),label:"Folio",type:"number",variant:"underlined",clearable:""},null,8,["modelValue"]),t(i,{modelValue:e.editedItem.idpgp,"onUpdate:modelValue":l[1]||(l[1]=o=>e.editedItem.idpgp=o),label:"IDPGP",type:"number",variant:"underlined",clearable:""},null,8,["modelValue"]),t(N,{modelValue:e.editedItem.enfermedad,"onUpdate:modelValue":l[2]||(l[2]=o=>e.editedItem.enfermedad=o),items:e.list.cie10,"item-title":"descripcion","item-value":"id",label:"Enfermedad",variant:"underlined",clearable:"",single:""},null,8,["modelValue","items"]),t(v,{modelValue:e.editedItem.seguro,"onUpdate:modelValue":l[3]||(l[3]=o=>e.editedItem.seguro=o),items:e.list.seguro,"item-title":"descripcion","item-value":"id",label:"Adm. Seguro de Vida",variant:"underlined",clearable:""},null,8,["modelValue","items"])]),_:1}),t(u,null,{default:a(()=>[t(T,{modelValue:e.editedItem.estado_diep,"onUpdate:modelValue":l[4]||(l[4]=o=>e.editedItem.estado_diep=o),"hide-details":"","true-value":"Aprobado","false-value":"No Aprobado",variant:"underlined",color:"green-darken-3",value:"No Aprobado",inset:!0,label:`Estatus Diep ${e.editedItem.estado_diep}`},null,8,["modelValue","label"]),t(i,{modelValue:e.editedItem.fecha_admision,"onUpdate:modelValue":l[5]||(l[5]=o=>e.editedItem.fecha_admision=o),label:"fecha_admision",type:"date",variant:"underlined",class:"mt-6",clearable:""},null,8,["modelValue"]),t(i,{modelValue:e.editedItem.numero_resolucion,"onUpdate:modelValue":l[6]||(l[6]=o=>e.editedItem.numero_resolucion=o),label:"Número de resolución",type:"number",variant:"underlined",clearable:""},null,8,["modelValue"]),t(i,{modelValue:e.editedItem.origen_denuncia,"onUpdate:modelValue":l[7]||(l[7]=o=>e.editedItem.origen_denuncia=o),label:"Origen denuncia",type:"text",variant:"underlined",clearable:""},null,8,["modelValue"])]),_:1}),t(u,null,{default:a(()=>[t(v,{modelValue:e.editedItem.tipo_enfermedad,"onUpdate:modelValue":l[8]||(l[8]=o=>e.editedItem.tipo_enfermedad=o),label:"Tipo de enfermedad",variant:"underlined",items:e.list.tipo_enfermedad,"item-title":"descripcion","item-value":"id",clearable:""},null,8,["modelValue","items"]),t(i,{modelValue:e.editedItem.validado_por,"onUpdate:modelValue":l[9]||(l[9]=o=>e.editedItem.validado_por=o),label:"Validado por",type:"text",variant:"underlined",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(B,null,{default:a(()=>[t(_),t(d,{color:"#009AA4",variant:"tonal",onClick:y},{default:a(()=>l[11]||(l[11]=[s(" Cancelar ")])),_:1}),t(d,{color:"#009AA4",variant:"tonal",onClick:w},{default:a(()=>l[12]||(l[12]=[s(" Guardar ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),"item.actions":a(({item:o})=>[t(b,{text:"Editar",location:"top"},{activator:a(({props:m})=>[t(d,g(m,{density:"compact",class:"mr-2 ml-2",color:"#009AA4",icon:"mdi-account-edit",onClick:O=>C(o)}),null,16,["onClick"])]),_:2},1024),t(b,{text:"Eliminar",location:"top"},{activator:a(({props:m})=>[t(d,g(m,{density:"compact",class:"mr-2 ml-2",color:"#009AA4",icon:"mdi-delete",onClick:O=>D(o)}),null,16,["onClick"])]),_:2},1024)]),"no-data":a(()=>[t(d,{color:"#009AA4",variant:"tonal",onClick:p},{default:a(()=>l[13]||(l[13]=[s(" Iniciar ")])),_:1})]),_:1},8,["headers","items"])]),_:1})}}},me=oe(ne,[["__file","/home/omar/www/esalud/resources/js/Pages/SubPages/DiepPage.vue"]]);export{me as default};
//# sourceMappingURL=DiepPage-CVbxP5Rg.js.map
